(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[354],{46465:function(e,n,l){"use strict";var t,r,i=l(67294);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(e[t]=l[t])}return e}).apply(this,arguments)}n.Z=function(e){return i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 512 512"},e),t||(t=i.createElement("path",{d:"M223.718 124.76c-48.027 11.198-86.688 49.285-98.494 97.031-11.843 47.899 1.711 96.722 36.259 130.601C173.703 364.377 181 383.586 181 403.777V407c0 13.296 5.801 25.26 15 33.505V467c0 24.813 20.187 45 45 45h30c24.813 0 45-20.187 45-45v-26.495c9.199-8.245 15-20.208 15-33.505v-3.282c0-19.884 7.687-39.458 20.563-52.361C376.994 325.87 391 292.005 391 256c0-86.079-79.769-151.638-167.282-131.24zM286 467c0 8.271-6.729 15-15 15h-30c-8.271 0-15-6.729-15-15v-15h60v15zm44.326-136.834C311.689 348.843 301 375.651 301 403.718V407c0 8.271-6.729 15-15 15h-60c-8.271 0-15-6.729-15-15v-3.223c0-28.499-10.393-55.035-28.513-72.804-26.89-26.37-37.409-64.493-28.141-101.981 9.125-36.907 39.029-66.353 76.184-75.015C299.202 137.964 361 189.228 361 256c0 28.004-10.894 54.343-30.674 74.166zM139.327 118.114 96.9 75.688c-5.857-5.858-15.355-5.858-21.213 0-5.858 5.858-5.858 15.355 0 21.213l42.427 42.426c5.857 5.858 15.356 5.858 21.213 0 5.858-5.858 5.858-15.355 0-21.213zM76 241H15c-8.284 0-15 6.716-15 15s6.716 15 15 15h61c8.284 0 15-6.716 15-15s-6.716-15-15-15zm421 0h-61c-8.284 0-15 6.716-15 15s6.716 15 15 15h61c8.284 0 15-6.716 15-15s-6.716-15-15-15zM436.313 75.688c-5.856-5.858-15.354-5.858-21.213 0l-42.427 42.426c-5.858 5.857-5.858 15.355 0 21.213 5.857 5.858 15.355 5.858 21.213 0l42.427-42.426c5.858-5.857 5.858-15.355 0-21.213zM256 0c-8.284 0-15 6.716-15 15v61c0 8.284 6.716 15 15 15s15-6.716 15-15V15c0-8.284-6.716-15-15-15z"})),r||(r=i.createElement("path",{d:"M256 181c-6.166 0-12.447.739-18.658 2.194-25.865 6.037-47.518 27.328-53.879 52.979-1.994 8.041 2.907 16.175 10.947 18.17 8.042 1.994 16.176-2.909 18.17-10.948 3.661-14.758 16.647-27.5 31.593-30.989 3.982-.933 7.962-1.406 11.827-1.406 8.284 0 15-6.716 15-15s-6.716-15-15-15z"})))}},60684:function(e,n,l){"use strict";var t=l(85893),r=l(29120),i=l(99369);n.Z=function(e){let{message:n,children:l}=e;return(0,t.jsxs)(r.DL,{direction:"column",alignItems:"center",justifyContent:"center",gap:60,height:600,children:[(0,t.jsx)(r.JO,{size:"xl",children:(0,t.jsx)(i.Z,{})}),(0,t.jsx)(r.xv,{size:"lg",children:n}),(0,t.jsx)("div",{children:l})]})}},14704:function(e,n,l){"use strict";l.d(n,{Z:function(){return d}});var t=l(85893),r=l(67294),i=l(29120),s=l(24474),a=l(26126),c=l.n(a);function d(e){let{name:n,label:l,type:a,values:d,onSelect:o,allowFilterSelect:u=!0}=e,{formatMessage:m,labels:p}=(0,s.y_)(),[h,v]=(0,r.useState)("eq"),[x,j]=(0,r.useState)(),{getFilters:f}=(0,s.mN)(),{formatValue:b}=(0,s.ve)(),g=f(a);return(0,t.jsx)(i.l0,{children:(0,t.jsxs)(i.p7,{label:l,className:c().filter,children:[(0,t.jsxs)(i.DL,{gap:10,children:[u&&(0,t.jsx)(i.Lt,{className:c().dropdown,items:g,value:h,renderValue:e=>{var n;return null===(n=g.find(n=>n.value===e))||void 0===n?void 0:n.label},onChange:v,children:e=>{let{value:n,label:l}=e;return(0,t.jsx)(i.ck,{children:l},n)}}),(0,t.jsx)(i.Lt,{className:c().dropdown,menuProps:{className:c().menu},items:d,value:x,renderValue:e=>b(e,n),onChange:j,style:{minWidth:"250px"},children:e=>(0,t.jsx)(i.ck,{children:b(e,n)},e)})]}),(0,t.jsx)(i.zx,{variant:"primary",onClick:()=>{o({name:n,type:a,filter:h,value:x})},disabled:!h||!x,children:m(p.add)})]})})}},5799:function(e,n,l){"use strict";l.d(n,{Z:function(){return c}});var t=l(85893),r=l(29120),i=l(24474),s=l(28528),a=l.n(s);function c(e){let{items:n,onSelect:l,showType:s=!0}=e,{formatMessage:c,labels:d}=(0,i.y_)();return(0,t.jsx)(r.l0,{children:(0,t.jsx)(r.p7,{label:c(d.fields),children:(0,t.jsx)(r.v2,{className:a().menu,onSelect:e=>l(n[e]),children:n.map((e,n)=>{let{name:l,label:i,type:c}=e;return(0,t.jsxs)(r.ck,{className:a().item,children:[(0,t.jsx)("div",{children:i||l}),s&&c&&(0,t.jsx)("div",{className:a().type,children:c})]},n)})})})})}},95444:function(e,n,l){"use strict";l.d(n,{Z:function(){return d}});var t=l(85893),r=l(67294),i=l(5799),s=l(14704),a=l(24474),c=l(29120);function d(e){let{websiteId:n,items:l,onSelect:d,allowFilterSelect:o}=e,[u,m]=(0,r.useState)(),{data:p,isLoading:h}=function(e,n){let{get:l,useQuery:t}=(0,a.h_)(),{data:r,error:i,isLoading:s}=t(["websites:values",e,n],()=>l("/websites/".concat(e,"/values"),{type:n}),{enabled:!!(e&&n)});return{data:r,error:i,isLoading:s}}(n,null==u?void 0:u.name);return u?h?(0,t.jsx)(c.gb,{position:"center",icon:"dots"}):(0,t.jsx)(s.Z,{name:null==u?void 0:u.name,label:null==u?void 0:u.label,type:null==u?void 0:u.type,values:p,onSelect:d,allowFilterSelect:o}):(0,t.jsx)(i.Z,{items:l,onSelect:m,showType:!1})}},67354:function(e,n,l){"use strict";l.d(n,{Z:function(){return Z}});var t=l(85893),r=l(89),i=l(77406),s=l(8953),a=l(60761),c=l(67294),d=l(24474),o=l(29120),u=l(43756),m=l(5390),p=l(54092),h=l(19440),v=l.n(h),x=l(61371),j=l(95444),f=l(5799),b=function(){let{report:e,runReport:n,updateReport:l,isRunning:i}=(0,c.useContext)(r.GA),{formatMessage:s,labels:a}=(0,d.y_)(),{formatValue:h}=(0,d.ve)(),{filterLabels:b}=(0,d.mN)(),g=(0,c.useRef)(null),{parameters:_}=e||{},{websiteId:y,dateRange:w,fields:F,filters:Z}=_||{},{startDate:C,endDate:S}=w||{},N=y&&w&&((null==F?void 0:F.length)||(null==Z?void 0:Z.length)),z=[{name:"url",type:"string",label:s(a.url)},{name:"title",type:"string",label:s(a.pageTitle)},{name:"referrer",type:"string",label:s(a.referrer)},{name:"query",type:"string",label:s(a.query)},{name:"browser",type:"string",label:s(a.browser)},{name:"os",type:"string",label:s(a.os)},{name:"device",type:"string",label:s(a.device)},{name:"country",type:"string",label:s(a.country)},{name:"region",type:"string",label:s(a.region)},{name:"city",type:"string",label:s(a.city)}],k=[{id:"fields",label:s(a.fields)},{id:"filters",label:s(a.filters)}],M={fields:F,filters:Z},P=(e,n)=>{let t=M[e];t.find(e=>{let{name:l}=e;return l===n.name})||l({parameters:{[e]:t.concat(n)}})},L=(e,n)=>{let t=[...M[e]];t.splice(n,1),l({parameters:{[e]:t}})},V=e=>{let{id:n}=e;return(0,t.jsxs)(o.qh,{children:[(0,t.jsx)(o.zG,{label:s(a.add),position:"top",children:(0,t.jsx)(o.JO,{children:(0,t.jsx)(u.Z.Plus,{})})}),(0,t.jsx)(o.GI,{position:"bottom",alignment:"start",className:v().popup,children:e=>(0,t.jsxs)(x.Z,{onClose:e,children:["fields"===n&&(0,t.jsx)(f.Z,{items:z,onSelect:P.bind(null,n),showType:!1}),"filters"===n&&(0,t.jsx)(j.Z,{websiteId:y,items:z,onSelect:P.bind(null,n)})]})})]})};return(0,t.jsxs)(o.l0,{ref:g,values:_,onSubmit:e=>{n(e)},children:[(0,t.jsx)(m.Z,{}),y&&C&&S&&k.map(e=>{let{id:n,label:l}=e;return(0,t.jsx)(o.p7,{label:l,action:(0,t.jsx)(V,{id:n,onAdd:P}),children:(0,t.jsx)(p.Z,{items:M[n],onRemove:e=>L(n,e),children:e=>{var l,r;let{name:i,filter:s,value:a}=e;return(0,t.jsxs)("div",{className:v().parameter,children:["fields"===n&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{children:null===(l=z.find(e=>e.name===i))||void 0===l?void 0:l.label})}),"filters"===n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:null===(r=z.find(e=>e.name===i))||void 0===r?void 0:r.label}),(0,t.jsx)("div",{className:v().op,children:b[s]}),(0,t.jsx)("div",{children:h(a,i)})]})]})}})},l)}),(0,t.jsx)(o.Au,{children:(0,t.jsx)(o.Mm,{variant:"primary",disabled:!N,loading:i,children:s(a.runQuery)})})]})},g=l(60684),_=function(){let[e,n]=(0,c.useState)(),{report:l}=(0,c.useContext)(r.GA),{formatMessage:i,labels:s}=(0,d.y_)(),{formatValue:a}=(0,d.ve)();return((0,c.useEffect)(()=>{var e;n(null==l?void 0:null===(e=l.parameters)||void 0===e?void 0:e.fields)},[null==l?void 0:l.data]),e&&(null==l?void 0:l.parameters))?(0,t.jsxs)(o.R1,{data:(null==l?void 0:l.data)||[],children:[e.map(e=>{let{name:n,label:l}=e;return(0,t.jsx)(o.C4,{name:n,label:l,children:e=>a(e[n],n)},n)}),(0,t.jsx)(o.C4,{name:"visitors",label:i(s.visitors),width:"100px",alignment:"end",children:e=>e.visitors.toLocaleString()}),(0,t.jsx)(o.C4,{name:"views",label:i(s.views),width:"100px",alignment:"end",children:e=>e.views.toLocaleString()})]}):(0,t.jsx)(g.Z,{})},y=l(46465),w=l(73865);let F={type:w.H$.insights,parameters:{fields:[],filters:[]}};function Z(e){let{reportId:n}=e;return(0,t.jsxs)(r.ZP,{reportId:n,defaultParameters:F,children:[(0,t.jsx)(i.Z,{icon:(0,t.jsx)(y.Z,{})}),(0,t.jsx)(s.Z,{children:(0,t.jsx)(b,{})}),(0,t.jsx)(a.Z,{children:(0,t.jsx)(_,{})})]})}},26126:function(e){e.exports={selected:"FieldFilterForm_selected__LjAfn",popup:"FieldFilterForm_popup__4LhTY",filter:"FieldFilterForm_filter__TYCkW",dropdown:"FieldFilterForm_dropdown__gqFsA",menu:"FieldFilterForm_menu__vsuBG"}},28528:function(e){e.exports={menu:"FieldSelectForm_menu___e4fQ",item:"FieldSelectForm_item__BiPDp",type:"FieldSelectForm_type__nByGv"}},19440:function(e){e.exports={parameter:"InsightsParameters_parameter__2MUkN",op:"InsightsParameters_op__HDVwc",popup:"InsightsParameters_popup__NXnMV"}}}]);