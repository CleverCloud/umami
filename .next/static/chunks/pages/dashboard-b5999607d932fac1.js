(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{91015:function(e,i,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(80737)}])},60684:function(e,i,s){"use strict";var t=s(85893),n=s(29120),r=s(99369);i.Z=function(e){let{message:i,children:s}=e;return(0,t.jsxs)(n.DL,{direction:"column",alignItems:"center",justifyContent:"center",gap:60,height:600,children:[(0,t.jsx)(n.JO,{size:"xl",children:(0,t.jsx)(r.Z,{})}),(0,t.jsx)(n.xv,{size:"lg",children:i}),(0,t.jsx)("div",{children:s})]})}},56754:function(e,i,s){"use strict";var t=s(85893),n=s(94184),r=s.n(n);s(67294);var d=s(74282),a=s.n(d);i.Z=function(e){let{title:i,children:s,className:n}=e;return(0,t.jsxs)("div",{className:r()(a().header,n),children:[i&&(0,t.jsx)("div",{className:a().title,children:i}),(0,t.jsx)("div",{className:a().actions,children:s})]})}},80737:function(e,i,s){"use strict";s.r(i),s.d(i,{default:function(){return R}});var t=s(85893),n=s(16822),r=s(29120),d=s(41664),a=s.n(d),l=s(70790),c=s(56754),o=s(233),h=s(67294),x=s(80717),j=s(17924),u=s(64529),g=s(73865),_=s(32955);let b={showCharts:!0,limit:g.l3,websiteOrder:[],editing:!1},f=(0,u.Ue)(()=>({...b,...(0,_.rV)(g.zz)}));function v(e){f.setState(e),(0,_.LS)(g.zz,f.getState())}var m=s(90541),w=s.n(m),p=s(21466),Z=s(8990),z=s(24474),C=s(43756);function N(e){let{websites:i,showCharts:s,limit:n}=e,{formatMessage:d,labels:l}=(0,z.y_)(),{websiteOrder:c}=f(),{dir:o}=(0,z.bU)(),u=(0,h.useMemo)(()=>i.map(e=>({...e,order:c.indexOf(e.id)||0})).sort((0,x.firstBy)("order")),[i,c]);return(0,t.jsx)("div",{children:u.map((e,i)=>{let{id:c}=e;return i<n?(0,t.jsxs)("div",{className:w().website,children:[(0,t.jsx)(p.Z,{websiteId:c,showLinks:!1,children:(0,t.jsx)(a(),{href:"/websites/".concat(c),children:(0,t.jsxs)(r.zx,{variant:"primary",children:[(0,t.jsx)(r.xv,{children:d(l.viewDetails)}),(0,t.jsx)(r.JO,{children:(0,t.jsx)(r.JO,{rotate:"rtl"===o?180:0,children:(0,t.jsx)(C.Z.ArrowRight,{})})})]})})}),(0,t.jsx)(Z.g,{websiteId:c,showFilter:!1}),s&&(0,t.jsx)(j.Z,{websiteId:c})]},c):null})})}var O=s(44085),D=function(){let{formatMessage:e,labels:i}=(0,O.Z)();return(0,t.jsxs)(r.DL,{gap:10,children:[(0,t.jsx)(r.zG,{label:e(i.toggleCharts),position:"bottom",children:(0,t.jsx)(r.zx,{onClick:()=>{v(e=>({showCharts:!e.showCharts}))},children:(0,t.jsx)(r.JO,{children:(0,t.jsx)(C.Z.BarChart,{})})})}),(0,t.jsxs)(r.zx,{onClick:()=>{v({editing:!0})},children:[(0,t.jsx)(r.JO,{children:(0,t.jsx)(C.Z.Edit,{})}),(0,t.jsx)(r.xv,{children:e(i.edit)})]})]})},E=s(15948),k=s(94184),P=s.n(k),I=s(35338),S=s(69764),y=s.n(S);let J="dashboard-website-ordering";var A=function(){let e=f(),{websiteOrder:i}=e,{formatMessage:s,labels:n}=(0,O.Z)(),[d,a]=(0,h.useState)(i||[]),{get:c,useQuery:o}=(0,I.Z)(),{data:j,isLoading:u,error:g}=o(["websites"],()=>c("/websites",{includeTeams:1})),{data:_}=j||{},b=(0,h.useMemo)(()=>_?_.map(e=>({...e,order:d.indexOf(e.id)})).sort((0,x.firstBy)("order")):[],[_,d]);return(0,t.jsxs)(l.Z,{loading:u,error:g,children:[(0,t.jsxs)("div",{className:y().buttons,children:[(0,t.jsx)(r.zx,{onClick:function(){v({editing:!1,websiteOrder:d})},variant:"action",size:"small",children:s(n.save)}),(0,t.jsx)(r.zx,{onClick:function(){v({editing:!1,websiteOrder:i})},size:"small",children:s(n.cancel)}),(0,t.jsx)(r.zx,{onClick:function(){a([])},size:"small",children:s(n.reset)})]}),(0,t.jsx)("div",{className:y().dragActive,children:(0,t.jsx)(E.Z5,{onDragEnd:function(e){let{destination:i,source:s}=e;if(!i||i.index===s.index)return;let t=[...b],[n]=t.splice(s.index,1);t.splice(i.index,0,n),a(t.map(e=>(null==e?void 0:e.id)||0))},children:(0,t.jsx)(E.bK,{droppableId:J,children:(e,i)=>(0,t.jsxs)("div",{...e.droppableProps,ref:e.innerRef,style:{marginBottom:i.isDraggingOver?260:null},children:[b.map((e,i)=>{let{id:s,name:n,domain:r}=e;return(0,t.jsx)(E._l,{draggableId:"".concat(J,"-").concat(s),index:i,children:(e,i)=>(0,t.jsx)("div",{ref:e.innerRef,className:P()(y().item,{[y().active]:i.isDragging}),...e.draggableProps,...e.dragHandleProps,children:(0,t.jsxs)("div",{className:y().text,children:[(0,t.jsx)("h1",{children:n}),(0,t.jsx)("h2",{children:r})]})})},s)}),e.placeholder]})})})})]})},H=s(60684),L=s(91998),T=s(19491),B=function(){let{formatMessage:e,labels:i,messages:s}=(0,O.Z)(),{showCharts:n,editing:d}=f(),{dir:h}=(0,L.Z)(),{get:x,useQuery:j}=(0,I.Z)(),{page:u,handlePageChange:g}=(0,T.Z)(),{data:_,isLoading:b,error:v}=j(["websites",u,10],()=>x("/websites",{includeTeams:1,page:u,pageSize:10})),{data:m,count:w}=_||{},p=m&&(null==m?void 0:m.length)!==0;return(0,t.jsxs)(l.Z,{loading:b,error:v,children:[(0,t.jsx)(c.Z,{title:e(i.dashboard),children:!d&&p&&(0,t.jsx)(D,{})}),!p&&(0,t.jsx)(H.Z,{message:e(s.noWebsitesConfigured),children:(0,t.jsx)(a(),{href:"/settings/websites",children:(0,t.jsxs)(r.zx,{children:[(0,t.jsx)(r.JO,{rotate:"rtl"===h?180:0,children:(0,t.jsx)(r.PJ.ArrowRight,{})}),(0,t.jsx)(r.xv,{children:e(s.goToSettings)})]})})}),p&&(0,t.jsxs)(t.Fragment,{children:[d&&(0,t.jsx)(A,{}),!d&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N,{websites:m,showCharts:n,limit:10}),(0,t.jsx)(o.Z,{page:u,pageSize:10,count:w,onPageChange:g})]})]})]})};function R(){let{formatMessage:e,labels:i}=(0,O.Z)();return(0,t.jsx)(n.Z,{title:e(i.dashboard),children:(0,t.jsx)(B,{})})}},74282:function(e){e.exports={header:"PageHeader_header__8CvHt",title:"PageHeader_title__m8eFY",actions:"PageHeader_actions__6l2hP"}},69764:function(e){e.exports={buttons:"DashboardEdit_buttons__DSk4j",item:"DashboardEdit_item__ZAIyB",text:"DashboardEdit_text__22RIl",active:"DashboardEdit_active__6MwTZ",dragActive:"DashboardEdit_dragActive__Veg0L"}},90541:function(e){e.exports={website:"WebsiteList_website__HtI_x"}}},function(e){e.O(0,[678,885,630,668,762,249,634,67,690,741,647,774,888,179],function(){return e(e.s=91015)}),_N_E=e.O()}]);