(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[722],{5428:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/websites/[id]/reports",function(){return t(82630)}])},98776:function(e,n,t){"use strict";var s=t(85893),a=t(94184),i=t.n(a),l=t(27110),r=t.n(l),c=t(44085);n.Z=function(e){let{message:n,className:t}=e,{formatMessage:a,messages:l}=(0,c.Z)();return(0,s.jsx)("div",{className:i()(r().container,t),children:n||a(l.noDataAvailable)})}},85375:function(e,n,t){"use strict";var s=t(85893),a=t(98776),i=t(44085),l=t(67294),r=t(29120),c=t(34953),o=t.n(c),d=t(233);n.Z=function(e){let{columns:n=[],data:t,children:c,cellRender:u,showSearch:h,showPaging:x,onFilterChange:j,onPageChange:_,onPageSizeChange:m,filterValue:f}=e,{formatMessage:b,messages:v}=(0,i.Z)(),[g,p]=(0,l.useState)(f),{data:w,page:N,count:Z,pageSize:y}=t;return(0,s.jsxs)(s.Fragment,{children:[h&&!!w.length&&(0,s.jsx)(r.Um,{onChange:e=>{p(e),j(e)},delay:1e3,value:g,autoFocus:!0,placeholder:"Search",style:{maxWidth:"300px",marginBottom:"10px"}}),0===w.length&&f&&(0,s.jsx)(a.Z,{message:b(v.noResultsFound)}),w.length>0&&(0,s.jsxs)(r.iA,{columns:n,rows:w,children:[(0,s.jsx)(r.xD,{className:o().header,children:(e,t)=>(0,s.jsx)(r.Dw,{className:o().cell,style:n[t].style,children:e.label},t)}),(0,s.jsx)(r.RM,{className:o().body,children:(e,t,a)=>(e.action=c(e,t,a),(0,s.jsx)(r.SC,{data:e,keys:t,className:o().row,children:(t,a,i)=>(0,s.jsxs)(r.pj,{className:o().cell,style:n[i].style,children:[(0,s.jsx)("label",{className:o().label,children:n[i].label}),u?u(e,t,a,i):t[a]]},i)},a))}),x&&(0,s.jsx)(d.Z,{page:N,pageSize:y,count:Z,onPageChange:_,onPageSizeChange:m})]})]})}},60499:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var s=t(85893),a=t(67294),i=t(29120),l=t(44085),r=function(e){let{name:n,onConfirm:t,onClose:r}=e,[c,o]=(0,a.useState)(!1),{formatMessage:d,labels:u,messages:h,FormattedMessage:x}=(0,l.Z)();return(0,s.jsxs)(i.l0,{children:[(0,s.jsx)("p",{children:(0,s.jsx)(x,{...h.confirmDelete,values:{target:(0,s.jsx)("b",{children:n})}})}),(0,s.jsxs)(i.Au,{flex:!0,children:[(0,s.jsx)(i.fl,{isLoading:c,onClick:()=>{o(!0),t()},variant:"danger",children:d(u.delete)}),(0,s.jsx)(i.zx,{onClick:r,children:d(u.cancel)})]})]})},c=t(41664),o=t.n(c),d=t(64253),u=t.n(d),h=function(e){let{href:n,icon:t,children:a}=e;return(0,s.jsxs)(o(),{className:u().button,href:n,children:[(0,s.jsx)(i.JO,{children:t||(0,s.jsx)(i.PJ.ArrowRight,{})}),(0,s.jsx)(i.xv,{children:a})]})},x=t(85375),j=t(24474),_=t(18927),m=function(e){let{data:n=[],onDelete:t=()=>{},filterValue:l,onFilterChange:c,onPageChange:o,onPageSizeChange:d,showDomain:u}=e,[m,f]=(0,a.useState)(null),{formatMessage:b,labels:v}=(0,j.y_)(),{user:g}=(0,_.Z)(),p=[{name:"domain",label:b(v.domain)}],w=[{name:"name",label:b(v.name)},{name:"description",label:b(v.description)},{name:"type",label:b(v.type)},...u?p:[],{name:"action",label:" "}];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Z,{columns:w,data:n,showSearch:!0,showPaging:!0,onFilterChange:c,onPageChange:o,onPageSizeChange:d,filterValue:l,children:e=>{let{id:n,userId:t,website:a}=e;return u&&(e.domain=a.domain),(0,s.jsxs)(i.DL,{gap:10,children:[(0,s.jsx)(h,{href:"/reports/".concat(n),children:b(v.view)}),!u||g.id===t||g.id===(null==a?void 0:a.userId),(0,s.jsxs)(i.zx,{onClick:()=>f(e),children:[(0,s.jsx)(i.JO,{children:(0,s.jsx)(i.PJ.Trash,{})}),(0,s.jsx)(i.xv,{children:b(v.delete)})]})]})}}),m&&(0,s.jsx)(i.u_,{children:(0,s.jsx)(r,{name:m.name,onConfirm:()=>{t(m.id)},onClose:()=>f(null)})})]})}},21466:function(e,n,t){"use strict";t.d(n,{Z:function(){return N}});var s=t(85893),a=t(94184),i=t.n(a),l=t(29120),r=t(41664),c=t.n(r),o=t(11163),d=t(165),u=t.n(d),h=function(e){let{domain:n,...t}=e,a=n?function(e){let n=e.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:/\n?=]+)/im);return n&&n.length>1?n[1]:null}(n):null;return a?(0,s.jsx)("img",{className:u().favicon,src:"https://icons.duckduckgo.com/ip3/".concat(a,".ico"),height:"16",alt:"",...t}):null},x=t(67294),j=t(35338),_=t(44085),m=t(1707),f=t.n(m),b=function(e){let{websiteId:n,value:t,refetchInterval:a=6e4}=e,{formatMessage:i,messages:r}=(0,_.Z)(),{get:c,useQuery:o}=(0,j.Z)(),{data:d}=o(["websites:active",n],()=>c("/websites/".concat(n,"/active")),{refetchInterval:a,enabled:!!n}),u=(0,x.useMemo)(()=>{if(n){var e;return(null==d?void 0:null===(e=d[0])||void 0===e?void 0:e.x)||0}return void 0!==t?t:0},[d,t,n]);return 0===u?null:(0,s.jsx)(l.KT,{className:f().container,variant:"success",children:(0,s.jsx)("div",{className:f().text,children:i(r.activeUsers,{x:u})})})},v=t(43756),g=t(24474),p=t(41150),w=t.n(p),N=function(e){let{websiteId:n,showLinks:t=!0,children:a}=e,{formatMessage:r,labels:d}=(0,g.y_)(),{pathname:u}=(0,o.useRouter)(),{data:x}=(0,g.jG)(n),{name:j,domain:_}=x||{},m=[{label:r(d.overview),icon:(0,s.jsx)(v.Z.Overview,{}),path:""},{label:r(d.realtime),icon:(0,s.jsx)(v.Z.Clock,{}),path:"/realtime"},{label:r(d.reports),icon:(0,s.jsx)(v.Z.Reports,{}),path:"/reports"},{label:r(d.eventData),icon:(0,s.jsx)(v.Z.Nodes,{}),path:"/event-data"}];return(0,s.jsxs)(l.X2,{className:w().header,justifyContent:"center",children:[(0,s.jsxs)(l.sg,{className:w().title,variant:"two",children:[(0,s.jsx)(h,{domain:_}),(0,s.jsx)(l.xv,{children:j}),(0,s.jsx)(b,{websiteId:n})]}),(0,s.jsxs)(l.sg,{className:w().actions,variant:"two",children:[t&&(0,s.jsx)("div",{className:w().links,children:m.map(e=>{let{label:t,icon:a,path:r}=e,o=r?u.endsWith(r):"/websites/[id]"===u;return(0,s.jsx)(c(),{href:"/websites/".concat(n).concat(r),shallow:!0,children:(0,s.jsxs)(l.zx,{variant:"quiet",className:i()({[w().selected]:o}),children:[(0,s.jsx)(l.JO,{className:w().icon,children:a}),(0,s.jsx)(l.xv,{className:w().label,children:t})]})},t)})}),a]})]})}},82630:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var s=t(85893),a=t(11163),i=t(16822),l=t(70790),r=t(98776),c=t(60499),o=t(24474),d=t(41664),u=t.n(d),h=t(29120),x=t(21466),j=function(e){let{websiteId:n}=e,{formatMessage:t,labels:a}=(0,o.y_)(),{reports:i,error:d,isLoading:j,deleteReport:_,filter:m,handleFilterChange:f,handlePageChange:b,handlePageSizeChange:v}=(0,o.gq)(n),g=i&&0!==i.data.length||m,p=async e=>{await _(e)};return(0,s.jsxs)(l.Z,{loading:j,error:d,children:[(0,s.jsx)(x.Z,{websiteId:n}),(0,s.jsx)(h.DL,{alignItems:"center",justifyContent:"end",children:(0,s.jsx)(u(),{href:"/reports/create",children:(0,s.jsxs)(h.zx,{variant:"primary",children:[(0,s.jsx)(h.JO,{children:(0,s.jsx)(h.PJ.Plus,{})}),(0,s.jsx)(h.xv,{children:t(a.createReport)})]})})}),g&&(0,s.jsx)(c.Z,{data:i,onDelete:p,onFilterChange:f,onPageChange:b,onPageSizeChange:v,filterValue:m}),!g&&(0,s.jsx)(r.Z,{})]})};function _(){let e=(0,a.useRouter)(),{id:n}=e.query;return n?(0,s.jsx)(i.Z,{children:(0,s.jsx)(j,{websiteId:n})}):null}},27110:function(e){e.exports={container:"Empty_container__ZKJsF"}},165:function(e){e.exports={favicon:"Favicon_favicon__jjbzI"}},64253:function(e){e.exports={button:"LinkButton_button__DKiNT"}},34953:function(e){e.exports={cell:"SettingsTable_cell__Mdz2s",row:"SettingsTable_row__Tqcw5",label:"SettingsTable_label__jsR11",header:"SettingsTable_header__fbadX"}},1707:function(e){e.exports={container:"ActiveUsers_container___JH1q",text:"ActiveUsers_text__9rsD0",value:"ActiveUsers_value__H3uVq"}},41150:function(e){e.exports={header:"WebsiteHeader_header__wK7qo",title:"WebsiteHeader_title__9N6pA",actions:"WebsiteHeader_actions__pG1GW",selected:"WebsiteHeader_selected__dGZmw",links:"WebsiteHeader_links___XsS_",label:"WebsiteHeader_label__jOZTy",icon:"WebsiteHeader_icon__TVV3d"}}},function(e){e.O(0,[678,885,668,762,249,67,690,774,888,179],function(){return e(e.s=5428)}),_N_E=e.O()}]);