(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[864],{77030:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/users/[id]",function(){return s(44836)}])},98776:function(e,n,s){"use strict";var t=s(85893),l=s(94184),a=s.n(l),r=s(27110),i=s.n(r),c=s(44085);n.Z=function(e){let{message:n,className:s}=e,{formatMessage:l,messages:r}=(0,c.Z)();return(0,t.jsx)("div",{className:a()(i().container,s),children:n||l(r.noDataAvailable)})}},85375:function(e,n,s){"use strict";var t=s(85893),l=s(98776),a=s(44085),r=s(67294),i=s(29120),c=s(34953),u=s.n(c),d=s(233);n.Z=function(e){let{columns:n=[],data:s,children:c,cellRender:o,showSearch:h,showPaging:m,onFilterChange:x,onPageChange:j,onPageSizeChange:g,filterValue:_}=e,{formatMessage:f,messages:v}=(0,a.Z)(),[w,b]=(0,r.useState)(_),{data:Z,page:S,count:y,pageSize:N}=s;return(0,t.jsxs)(t.Fragment,{children:[h&&!!Z.length&&(0,t.jsx)(i.Um,{onChange:e=>{b(e),x(e)},delay:1e3,value:w,autoFocus:!0,placeholder:"Search",style:{maxWidth:"300px",marginBottom:"10px"}}),0===Z.length&&_&&(0,t.jsx)(l.Z,{message:f(v.noResultsFound)}),Z.length>0&&(0,t.jsxs)(i.iA,{columns:n,rows:Z,children:[(0,t.jsx)(i.xD,{className:u().header,children:(e,s)=>(0,t.jsx)(i.Dw,{className:u().cell,style:n[s].style,children:e.label},s)}),(0,t.jsx)(i.RM,{className:u().body,children:(e,s,l)=>(e.action=c(e,s,l),(0,t.jsx)(i.SC,{data:e,keys:s,className:u().row,children:(s,l,a)=>(0,t.jsxs)(i.pj,{className:u().cell,style:n[a].style,children:[(0,t.jsx)("label",{className:u().label,children:n[a].label}),o?o(e,s,l,a):s[l]]},a)},l))}),m&&(0,t.jsx)(d.Z,{page:S,pageSize:N,count:y,onPageChange:j,onPageSizeChange:g})]})]})}},56754:function(e,n,s){"use strict";var t=s(85893),l=s(94184),a=s.n(l);s(67294);var r=s(74282),i=s.n(r);n.Z=function(e){let{title:n,children:s,className:l}=e;return(0,t.jsxs)("div",{className:a()(i().header,l),children:[n&&(0,t.jsx)("div",{className:i().title,children:n}),(0,t.jsx)("div",{className:i().actions,children:s})]})}},7255:function(e,n,s){"use strict";var t=s(85893),l=s(29120),a=s(11163),r=s(60481),i=s(18927),c=s(44085),u=s(35742),d=s.n(u),o=s(83454);n.Z=function(e){var n;let{children:s}=e,{user:u}=(0,i.Z)(),{pathname:h}=(0,a.useRouter)(),{formatMessage:m,labels:x}=(0,c.Z)(),j=!!o.env.cloudMode,g=[{key:"websites",label:m(x.websites),url:"/settings/websites"},{key:"teams",label:m(x.teams),url:"/settings/teams"},u.isAdmin&&{key:"users",label:m(x.users),url:"/settings/users"},{key:"profile",label:m(x.profile),url:"/settings/profile"}].filter(e=>e);return(0,t.jsxs)(l.X2,{children:[!j&&(0,t.jsx)(l.sg,{className:d().menu,defaultSize:12,md:4,lg:3,xl:2,children:(0,t.jsx)(r.Z,{items:g,shallow:!0,selectedKey:null===(n=g.find(e=>{let{url:n}=e;return h===n}))||void 0===n?void 0:n.key})}),(0,t.jsx)(l.sg,{className:d().content,defaultSize:12,md:8,lg:9,xl:10,children:s})]})}},60481:function(e,n,s){"use strict";var t=s(85893),l=s(94184),a=s.n(l),r=s(29120),i=s(11163),c=s(41664),u=s.n(c),d=s(56547),o=s.n(d);n.Z=function(e){let{selectedKey:n,items:s,shallow:l=!0,scroll:c=!1,onSelect:d=()=>{}}=e,{asPath:h}=(0,i.useRouter)();return(0,t.jsx)(r.v2,{items:s,selectedKey:n,className:o().menu,onSelect:d,children:e=>{let{key:n,label:s,url:i}=e;return(0,t.jsx)(r.ck,{className:a()(o().item,{[o().selected]:h.startsWith(i)}),children:(0,t.jsx)(u(),{href:i,shallow:l,scroll:c,children:s})},n)}})}},62741:function(e,n,s){"use strict";var t=s(85893),l=s(41664),a=s.n(l),r=s(29120),i=s(85375),c=s(98776),u=s(44085),d=s(18927);n.Z=function(e){var n;let{data:s=[],filterValue:l,onFilterChange:o,onPageChange:h,onPageSizeChange:m,showTeam:x,showEditButton:j,openExternal:g=!1}=e,{formatMessage:_,labels:f}=(0,u.Z)(),{user:v}=(0,d.Z)(),w=s&&(l||(null==s?void 0:null===(n=s.data)||void 0===n?void 0:n.length)!==0),b=[{name:"teamName",label:_(f.teamName)},{name:"owner",label:_(f.owner)}],Z=[{name:"name",label:_(f.name)},{name:"domain",label:_(f.domain)},...x?b:[],{name:"action",label:" "}];return(0,t.jsxs)(t.Fragment,{children:[w&&(0,t.jsx)(i.Z,{columns:Z,data:s,showSearch:!0,showPaging:!0,onFilterChange:o,onPageChange:h,onPageSizeChange:m,filterValue:l,children:e=>{let{id:n,teamWebsite:s,user:{username:l,id:i}}=e;if(x){var c;e.teamName=null===(c=s[0])||void 0===c?void 0:c.team.name,e.owner=l}return(0,t.jsxs)(t.Fragment,{children:[j&&(!x||i===v.id)&&(0,t.jsx)(a(),{href:"/settings/websites/".concat(n),children:(0,t.jsxs)(r.zx,{children:[(0,t.jsx)(r.JO,{children:(0,t.jsx)(r.PJ.Edit,{})}),(0,t.jsx)(r.xv,{children:_(f.edit)})]})}),(0,t.jsx)(a(),{href:"/websites/".concat(n),target:g?"_blank":null,children:(0,t.jsxs)(r.zx,{children:[(0,t.jsx)(r.JO,{children:(0,t.jsx)(r.PJ.External,{})}),(0,t.jsx)(r.xv,{children:_(f.view)})]})})]})}}),!w&&(0,t.jsx)(c.Z,{})]})}},44836:function(e,n,s){"use strict";s.r(n),s.d(n,{__N_SSP:function(){return v},default:function(){return w}});var t=s(85893),l=s(16822),a=s(7255),r=s(67294),i=s(29120),c=s(35338),u=s(73865),d=s(44085),o=function(e){let{userId:n,data:s,onSave:l}=e,{formatMessage:a,labels:r,messages:o}=(0,d.Z)(),{post:h,useMutation:m}=(0,c.Z)(),{mutate:x,error:j}=m(e=>{let{username:s,password:t,role:l}=e;return h("/users/".concat(n),{username:s,password:t,role:l})}),g=async e=>{x(e,{onSuccess:async()=>{l(e)}})};return(0,t.jsxs)(i.l0,{onSubmit:g,error:j,values:s,style:{width:300},children:[(0,t.jsx)(i.p7,{label:a(r.username),children:(0,t.jsx)(i.Tr,{name:"username",children:(0,t.jsx)(i.nv,{})})}),(0,t.jsx)(i.p7,{label:a(r.password),children:(0,t.jsx)(i.Tr,{name:"password",rules:{minLength:{value:8,message:a(o.minPasswordLength,{n:8})}},children:(0,t.jsx)(i.ZI,{autoComplete:"new-password"})})}),(0,t.jsx)(i.p7,{label:a(r.role),children:(0,t.jsx)(i.Tr,{name:"role",rules:{required:a(r.required)},children:(0,t.jsxs)(i.Lt,{renderValue:e=>e===u.K$.user?a(r.user):e===u.K$.admin?a(r.admin):e===u.K$.viewOnly?a(r.viewOnly):void 0,children:[(0,t.jsx)(i.ck,{children:a(r.viewOnly)},u.K$.viewOnly),(0,t.jsx)(i.ck,{children:a(r.user)},u.K$.user),(0,t.jsx)(i.ck,{children:a(r.admin)},u.K$.admin)]})})}),(0,t.jsx)(i.Au,{children:(0,t.jsx)(i.Mm,{variant:"primary",children:a(r.save)})})]})},h=s(70790),m=s(56754),x=s(62741),j=s(19491),g=function(e){let{userId:n}=e,{filter:s,page:l,pageSize:a,handleFilterChange:r,handlePageChange:i,handlePageSizeChange:u}=(0,j.Z)(),{get:d,useQuery:o}=(0,c.Z)(),{data:m,isLoading:g,error:_}=o(["user:websites",n,s,l,a],()=>d("/users/".concat(n,"/websites"),{filter:s,page:l,pageSize:a})),f=m&&0!==m.length;return(0,t.jsx)(h.Z,{loading:g,error:_,children:f&&(0,t.jsx)(x.Z,{data:m,onFilterChange:r,onPageChange:i,onPageSizeChange:u,filterValue:s})})},_=function(e){let{userId:n}=e,{formatMessage:s,labels:l,messages:a}=(0,d.Z)(),[u,x]=(0,r.useState)(!1),[j,_]=(0,r.useState)(null),[f,v]=(0,r.useState)("details"),{get:w,useQuery:b}=(0,c.Z)(),{showToast:Z}=(0,i.e1)(),{data:S,isLoading:y}=b(["user",n],()=>{if(n)return w("/users/".concat(n))},{cacheTime:0});return(0,r.useEffect)(()=>{S&&_(S)},[S]),(0,t.jsxs)(h.Z,{loading:y||!j,children:[(0,t.jsx)(m.Z,{title:null==j?void 0:j.username}),(0,t.jsxs)(i.mQ,{selectedKey:f,onSelect:v,style:{marginBottom:30,fontSize:14},children:[(0,t.jsx)(i.ck,{children:s(l.details)},"details"),(0,t.jsx)(i.ck,{children:s(l.websites)},"websites")]}),"details"===f&&(0,t.jsx)(o,{userId:n,data:j,onSave:e=>{Z({message:s(a.saved),variant:"success"}),e&&_(n=>({...n,...e})),u&&x(!1)}}),"websites"===f&&(0,t.jsx)(g,{userId:n})]})},f=s(11163),v=!0;function w(e){let{disabled:n}=e,s=(0,f.useRouter)(),{id:r}=s.query,{formatMessage:i,labels:c}=(0,d.Z)();return!r||n?null:(0,t.jsx)(l.Z,{title:"".concat(i(c.settings)," - ").concat(i(c.users)),children:(0,t.jsx)(a.Z,{children:(0,t.jsx)(_,{userId:r})})})}},27110:function(e){e.exports={container:"Empty_container__ZKJsF"}},34953:function(e){e.exports={cell:"SettingsTable_cell__Mdz2s",row:"SettingsTable_row__Tqcw5",label:"SettingsTable_label__jsR11",header:"SettingsTable_header__fbadX"}},74282:function(e){e.exports={header:"PageHeader_header__8CvHt",title:"PageHeader_title__m8eFY",actions:"PageHeader_actions__6l2hP"}},35742:function(e){e.exports={menu:"SettingsLayout_menu__7reR6",content:"SettingsLayout_content__hSAEC"}},56547:function(e){e.exports={menu:"SideNav_menu__NOTB5",item:"SideNav_item__jN5F4",selected:"SideNav_selected__V2_83"}}},function(e){e.O(0,[678,885,668,762,249,67,690,774,888,179],function(){return e(e.s=77030)}),_N_E=e.O()}]);