(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[759],{74077:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/websites",function(){return s(2288)}])},98776:function(e,n,s){"use strict";var a=s(85893),t=s(94184),i=s.n(t),l=s(27110),r=s.n(l),c=s(44085);n.Z=function(e){let{message:n,className:s}=e,{formatMessage:t,messages:l}=(0,c.Z)();return(0,a.jsx)("div",{className:i()(r().container,s),children:n||t(l.noDataAvailable)})}},85375:function(e,n,s){"use strict";var a=s(85893),t=s(98776),i=s(44085),l=s(67294),r=s(29120),c=s(34953),d=s.n(c),o=s(233);n.Z=function(e){let{columns:n=[],data:s,children:c,cellRender:h,showSearch:u,showPaging:x,onFilterChange:m,onPageChange:j,onPageSizeChange:b,filterValue:v}=e,{formatMessage:g,messages:w}=(0,i.Z)(),[_,f]=(0,l.useState)(v),{data:Z,page:y,count:p,pageSize:P}=s;return(0,a.jsxs)(a.Fragment,{children:[u&&!!Z.length&&(0,a.jsx)(r.Um,{onChange:e=>{f(e),m(e)},delay:1e3,value:_,autoFocus:!0,placeholder:"Search",style:{maxWidth:"300px",marginBottom:"10px"}}),0===Z.length&&v&&(0,a.jsx)(t.Z,{message:g(w.noResultsFound)}),Z.length>0&&(0,a.jsxs)(r.iA,{columns:n,rows:Z,children:[(0,a.jsx)(r.xD,{className:d().header,children:(e,s)=>(0,a.jsx)(r.Dw,{className:d().cell,style:n[s].style,children:e.label},s)}),(0,a.jsx)(r.RM,{className:d().body,children:(e,s,t)=>(e.action=c(e,s,t),(0,a.jsx)(r.SC,{data:e,keys:s,className:d().row,children:(s,t,i)=>(0,a.jsxs)(r.pj,{className:d().cell,style:n[i].style,children:[(0,a.jsx)("label",{className:d().label,children:n[i].label}),h?h(e,s,t,i):s[t]]},i)},t))}),x&&(0,a.jsx)(o.Z,{page:y,pageSize:P,count:p,onPageChange:j,onPageSizeChange:b})]})]})}},56754:function(e,n,s){"use strict";var a=s(85893),t=s(94184),i=s.n(t);s(67294);var l=s(74282),r=s.n(l);n.Z=function(e){let{title:n,children:s,className:t}=e;return(0,a.jsxs)("div",{className:i()(r().header,t),children:[n&&(0,a.jsx)("div",{className:r().title,children:n}),(0,a.jsx)("div",{className:r().actions,children:s})]})}},57219:function(e,n,s){"use strict";var a=s(85893),t=s(29120),i=s(35338),l=s(73865),r=s(44085);n.Z=function(e){let{onSave:n,onClose:s}=e,{formatMessage:c,labels:d,messages:o}=(0,r.Z)(),{post:h,useMutation:u}=(0,i.Z)(),{mutate:x,error:m,isLoading:j}=u(e=>h("/websites",e)),b=async e=>{x(e,{onSuccess:async()=>{n(),s()}})};return(0,a.jsxs)(t.l0,{onSubmit:b,error:m,children:[(0,a.jsx)(t.p7,{label:c(d.name),children:(0,a.jsx)(t.Tr,{name:"name",rules:{required:c(d.required)},children:(0,a.jsx)(t.nv,{autoComplete:"off"})})}),(0,a.jsx)(t.p7,{label:c(d.domain),children:(0,a.jsx)(t.Tr,{name:"domain",rules:{required:c(d.required),pattern:{value:l.Xx,message:c(o.invalidDomain)}},children:(0,a.jsx)(t.nv,{autoComplete:"off"})})}),(0,a.jsxs)(t.Au,{flex:!0,children:[(0,a.jsx)(t.Mm,{variant:"primary",disabled:!1,children:c(d.save)}),(0,a.jsx)(t.zx,{disabled:j,onClick:s,children:c(d.cancel)})]})]})}},5770:function(e,n,s){"use strict";var a=s(85893),t=s(70790),i=s(56754),l=s(57219),r=s(62741),c=s(35338),d=s(19491),o=s(44085),h=s(18927),u=s(73865),x=s(29120);n.Z=function(e){let{showTeam:n,showEditButton:s=!0,showHeader:m=!0,includeTeams:j,onlyTeams:b,fetch:v}=e,{formatMessage:g,labels:w,messages:_}=(0,o.Z)(),{user:f}=(0,h.Z)(),{filter:Z,page:y,pageSize:p,handleFilterChange:P,handlePageChange:S,handlePageSizeChange:C}=(0,d.Z)(),{get:N,useQuery:T}=(0,c.Z)(),{data:E,isLoading:F,error:z,refetch:k}=T(["websites",v,null==f?void 0:f.id,Z,y,p,j,b],()=>N("/users/".concat(null==f?void 0:f.id,"/websites"),{filter:Z,page:y,pageSize:p,includeTeams:j,onlyTeams:b}),{enabled:!!f}),{showToast:J}=(0,x.e1)(),O=async()=>{await k(),J({message:g(_.saved),variant:"success"})},q=(0,a.jsx)(a.Fragment,{children:f.role!==u.K$.viewOnly&&(0,a.jsxs)(x.iq,{children:[(0,a.jsxs)(x.zx,{variant:"primary",children:[(0,a.jsx)(x.JO,{children:(0,a.jsx)(x.PJ.Plus,{})}),(0,a.jsx)(x.xv,{children:g(w.addWebsite)})]}),(0,a.jsx)(x.u_,{title:g(w.addWebsite),children:e=>(0,a.jsx)(l.Z,{onSave:O,onClose:e})})]})});return(0,a.jsxs)(t.Z,{loading:F,error:z,children:[m&&(0,a.jsx)(i.Z,{title:g(w.websites),children:q}),(0,a.jsx)(r.Z,{data:E,showTeam:n,showEditButton:s,onFilterChange:P,onPageChange:S,onPageSizeChange:C,filterValue:Z})]})}},62741:function(e,n,s){"use strict";var a=s(85893),t=s(41664),i=s.n(t),l=s(29120),r=s(85375),c=s(98776),d=s(44085),o=s(18927);n.Z=function(e){var n;let{data:s=[],filterValue:t,onFilterChange:h,onPageChange:u,onPageSizeChange:x,showTeam:m,showEditButton:j,openExternal:b=!1}=e,{formatMessage:v,labels:g}=(0,d.Z)(),{user:w}=(0,o.Z)(),_=s&&(t||(null==s?void 0:null===(n=s.data)||void 0===n?void 0:n.length)!==0),f=[{name:"teamName",label:v(g.teamName)},{name:"owner",label:v(g.owner)}],Z=[{name:"name",label:v(g.name)},{name:"domain",label:v(g.domain)},...m?f:[],{name:"action",label:" "}];return(0,a.jsxs)(a.Fragment,{children:[_&&(0,a.jsx)(r.Z,{columns:Z,data:s,showSearch:!0,showPaging:!0,onFilterChange:h,onPageChange:u,onPageSizeChange:x,filterValue:t,children:e=>{let{id:n,teamWebsite:s,user:{username:t,id:r}}=e;if(m){var c;e.teamName=null===(c=s[0])||void 0===c?void 0:c.team.name,e.owner=t}return(0,a.jsxs)(a.Fragment,{children:[j&&(!m||r===w.id)&&(0,a.jsx)(i(),{href:"/settings/websites/".concat(n),children:(0,a.jsxs)(l.zx,{children:[(0,a.jsx)(l.JO,{children:(0,a.jsx)(l.PJ.Edit,{})}),(0,a.jsx)(l.xv,{children:v(g.edit)})]})}),(0,a.jsx)(i(),{href:"/websites/".concat(n),target:b?"_blank":null,children:(0,a.jsxs)(l.zx,{children:[(0,a.jsx)(l.JO,{children:(0,a.jsx)(l.PJ.External,{})}),(0,a.jsx)(l.xv,{children:v(g.view)})]})})]})}}),!_&&(0,a.jsx)(c.Z,{})]})}},2288:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return v}});var a=s(85893),t=s(16822),i=s(70790),l=s(56754),r=s(57219),c=s(5770),d=s(24474),o=s(18927),h=s(73865),u=s(67294),x=s(29120),m=s(83454),j=function(){let{formatMessage:e,labels:n,messages:s}=(0,d.y_)(),[t,j]=(0,u.useState)("my-websites"),[b,v]=(0,u.useState)(1),{user:g}=(0,o.Z)(),{showToast:w}=(0,x.e1)(),_=!!m.env.cloudMode,f=async()=>{v(b+1),w({message:e(s.saved),variant:"success"})},Z=(0,a.jsx)(a.Fragment,{children:g.role!==h.K$.viewOnly&&(0,a.jsxs)(x.iq,{children:[(0,a.jsxs)(x.zx,{variant:"primary",children:[(0,a.jsx)(x.JO,{children:(0,a.jsx)(x.PJ.Plus,{})}),(0,a.jsx)(x.xv,{children:e(n.addWebsite)})]}),(0,a.jsx)(x.u_,{title:e(n.addWebsite),children:e=>(0,a.jsx)(r.Z,{onSave:f,onClose:e})})]})});return(0,a.jsxs)(i.Z,{children:[(0,a.jsx)(l.Z,{title:e(n.websites),children:!_&&Z}),(0,a.jsxs)(x.mQ,{selectedKey:t,onSelect:j,style:{marginBottom:30},children:[(0,a.jsx)(x.ck,{children:e(n.myWebsites)},"my-websites"),(0,a.jsx)(x.ck,{children:e(n.teamWebsites)},"team-webaites")]}),"my-websites"===t&&(0,a.jsx)(c.Z,{showEditButton:!_,showHeader:!1,fetch:b}),"team-webaites"===t&&(0,a.jsx)(c.Z,{showEditButton:!_,showHeader:!1,fetch:b,showTeam:!0,onlyTeams:!0})]})},b=s(44085);function v(){let{formatMessage:e,labels:n}=(0,b.Z)();return(0,a.jsx)(t.Z,{title:e(n.websites),children:(0,a.jsx)(j,{})})}},27110:function(e){e.exports={container:"Empty_container__ZKJsF"}},34953:function(e){e.exports={cell:"SettingsTable_cell__Mdz2s",row:"SettingsTable_row__Tqcw5",label:"SettingsTable_label__jsR11",header:"SettingsTable_header__fbadX"}},74282:function(e){e.exports={header:"PageHeader_header__8CvHt",title:"PageHeader_title__m8eFY",actions:"PageHeader_actions__6l2hP"}}},function(e){e.O(0,[678,885,668,762,249,67,690,774,888,179],function(){return e(e.s=74077)}),_N_E=e.O()}]);