(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[14],{31553:function(e,t,s){"use strict";var n,r,i,l,a=s(67294);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}t.Z=function(e){return a.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:512,height:512,viewBox:"0 0 32 32"},e),n||(n=a.createElement("path",{d:"M29 11H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h26a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1zM4 9h24V5H4z"})),r||(r=a.createElement("path",{d:"M25 17H7a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1zM8 15h16v-4H8z"})),i||(i=a.createElement("path",{d:"M22 23H10a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1zm-11-2h10v-4H11z"})),l||(l=a.createElement("path",{d:"M19 29h-6a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1zm-5-2h4v-4h-4z"})))}},46465:function(e,t,s){"use strict";var n,r,i=s(67294);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}t.Z=function(e){return i.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 512 512"},e),n||(n=i.createElement("path",{d:"M223.718 124.76c-48.027 11.198-86.688 49.285-98.494 97.031-11.843 47.899 1.711 96.722 36.259 130.601C173.703 364.377 181 383.586 181 403.777V407c0 13.296 5.801 25.26 15 33.505V467c0 24.813 20.187 45 45 45h30c24.813 0 45-20.187 45-45v-26.495c9.199-8.245 15-20.208 15-33.505v-3.282c0-19.884 7.687-39.458 20.563-52.361C376.994 325.87 391 292.005 391 256c0-86.079-79.769-151.638-167.282-131.24zM286 467c0 8.271-6.729 15-15 15h-30c-8.271 0-15-6.729-15-15v-15h60v15zm44.326-136.834C311.689 348.843 301 375.651 301 403.718V407c0 8.271-6.729 15-15 15h-60c-8.271 0-15-6.729-15-15v-3.223c0-28.499-10.393-55.035-28.513-72.804-26.89-26.37-37.409-64.493-28.141-101.981 9.125-36.907 39.029-66.353 76.184-75.015C299.202 137.964 361 189.228 361 256c0 28.004-10.894 54.343-30.674 74.166zM139.327 118.114 96.9 75.688c-5.857-5.858-15.355-5.858-21.213 0-5.858 5.858-5.858 15.355 0 21.213l42.427 42.426c5.857 5.858 15.356 5.858 21.213 0 5.858-5.858 5.858-15.355 0-21.213zM76 241H15c-8.284 0-15 6.716-15 15s6.716 15 15 15h61c8.284 0 15-6.716 15-15s-6.716-15-15-15zm421 0h-61c-8.284 0-15 6.716-15 15s6.716 15 15 15h61c8.284 0 15-6.716 15-15s-6.716-15-15-15zM436.313 75.688c-5.856-5.858-15.354-5.858-21.213 0l-42.427 42.426c-5.858 5.857-5.858 15.355 0 21.213 5.857 5.858 15.355 5.858 21.213 0l42.427-42.426c5.858-5.857 5.858-15.355 0-21.213zM256 0c-8.284 0-15 6.716-15 15v61c0 8.284 6.716 15 15 15s15-6.716 15-15V15c0-8.284-6.716-15-15-15z"})),r||(r=i.createElement("path",{d:"M256 181c-6.166 0-12.447.739-18.658 2.194-25.865 6.037-47.518 27.328-53.879 52.979-1.994 8.041 2.907 16.175 10.947 18.17 8.042 1.994 16.176-2.909 18.17-10.948 3.661-14.758 16.647-27.5 31.593-30.989 3.982-.933 7.962-1.406 11.827-1.406 8.284 0 15-6.716 15-15s-6.716-15-15-15z"})))}},13902:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reports/create",function(){return s(42781)}])},16822:function(e,t,s){"use strict";s.d(t,{Z:function(){return q}});var n=s(85893),r=s(29120),i=s(9008),l=s.n(i),a=s(41664),c=s.n(a),o=s(11163),u=s(94184),d=s.n(u),h=s(43756),x=s(80483),m=s(52438),p=s(44085),v=s(18927),_=s(35177),j=s.n(_),f=s(91998),g=s(83454),b=function(){let{formatMessage:e,labels:t}=(0,p.Z)(),{user:s}=(0,v.Z)(),i=(0,o.useRouter)(),{dir:l}=(0,f.Z)(),a=!!g.env.cloudMode;return(0,n.jsxs)(r.qh,{children:[(0,n.jsxs)(r.zx,{variant:"quiet",children:[(0,n.jsx)(r.JO,{children:(0,n.jsx)(h.Z.Profile,{})}),(0,n.jsx)(r.JO,{size:"sm",children:(0,n.jsx)(h.Z.ChevronDown,{})})]}),(0,n.jsx)(r.GI,{position:"bottom",alignment:"rtl"===l?"start":"end",children:(0,n.jsxs)(r.v2,{variant:"popup",onSelect:e=>{"profile"===e&&i.push("/settings/profile"),"logout"===e&&i.push("/logout")},className:j().menu,children:[(0,n.jsx)(r.ck,{className:j().item,children:(0,n.jsx)(r.xv,{children:s.username})},"user"),(0,n.jsxs)(r.ck,{className:j().item,divider:!0,children:[(0,n.jsx)(r.JO,{children:(0,n.jsx)(h.Z.User,{})}),(0,n.jsx)(r.xv,{children:e(t.profile)})]},"profile"),!a&&(0,n.jsxs)(r.ck,{className:j().item,children:[(0,n.jsx)(r.JO,{children:(0,n.jsx)(h.Z.Logout,{})}),(0,n.jsx)(r.xv,{children:e(t.logout)})]},"logout")]})})]})},N=s(67294),w=s(73935),Z=s(93766),y=s.n(Z),M=function(e){let{items:t=[],onClose:s}=e,{pathname:r}=(0,o.useRouter)(),i=e=>{let{items:t,className:l}=e;return(0,n.jsx)("div",{className:d()(y().items,l),children:t.map(e=>{let{label:t,url:l,children:a}=e,o=r.startsWith(l);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c(),{href:l,className:d()(y().item,{[y().selected]:o}),onClick:s,children:t},l),a&&(0,n.jsx)(i,{items:a,className:y().submenu})]})})})};return(0,w.createPortal)((0,n.jsx)("div",{className:d()(y().menu),children:(0,n.jsx)(i,{items:t})}),document.body)},z=s(83454),k=function(){let{formatMessage:e,labels:t}=(0,p.Z)(),[s,i]=(0,N.useState)(!1),l=!!z.env.cloudMode,a=[{label:e(t.dashboard),url:"/dashboard"},!l&&{label:e(t.settings),url:"/settings",children:[{label:e(t.websites),url:"/settings/websites"},{label:e(t.teams),url:"/settings/teams"},{label:e(t.users),url:"/settings/users"},{label:e(t.profile),url:"/settings/profile"}]},l&&{label:e(t.profile),url:"/settings/profile"},!l&&{label:e(t.logout),url:"/logout"}].filter(e=>e);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.zx,{variant:"quiet",onClick:()=>i(e=>!e),children:(0,n.jsx)(r.JO,{children:s?(0,n.jsx)(h.Z.Close,{}):(0,n.jsx)(h.Z.Menu,{})})}),s&&(0,n.jsx)(M,{items:a,onClose:()=>i(!1)})]})},C=s(52963),O=s.n(C),P=function(){let{pathname:e}=(0,o.useRouter)(),{formatMessage:t,labels:s}=(0,p.Z)(),i=[{label:t(s.dashboard),url:"/dashboard"},{label:t(s.websites),url:"/websites"},{label:t(s.reports),url:"/reports"},{label:t(s.settings),url:"/settings"}].filter(e=>e);return(0,n.jsx)("div",{className:d()(O().navbar),children:(0,n.jsxs)(r.X2,{children:[(0,n.jsxs)(r.sg,{className:O().left,children:[(0,n.jsxs)("div",{className:O().logo,children:[(0,n.jsx)(r.JO,{size:"lg",children:(0,n.jsx)(h.Z.Logo,{})}),(0,n.jsx)(r.xv,{className:O().text,children:"umami"})]}),(0,n.jsx)("div",{className:O().links,children:i.map(t=>{let{url:s,label:i}=t;return(0,n.jsx)(c(),{href:s,className:d()({[O().selected]:e.startsWith(s)}),children:(0,n.jsx)(r.xv,{children:i})},s)})})]}),(0,n.jsxs)(r.sg,{className:O().right,children:[(0,n.jsxs)("div",{className:O().actions,children:[(0,n.jsx)(x.Z,{}),(0,n.jsx)(m.Z,{}),(0,n.jsx)(b,{})]}),(0,n.jsx)("div",{className:O().mobile,children:(0,n.jsx)(k,{})})]})]})})},B=s(32955),E=s(64529),H=s(12902),R=s(81249),L=s.n(R),U=s(73865);let J={current:U.we,latest:null,hasUpdate:!1,checked:!1,releaseUrl:null},S=(0,E.Ue)(()=>({...J}));async function T(){let{current:e}=S.getState(),t=await fetch("".concat(U.nI,"?v=").concat(e),{method:"GET",headers:{Accept:"application/json"}}).then(e=>e.ok?e.json():null);t&&S.setState((0,H.Uy)(s=>{let{latest:n,url:r}=t,i=(0,B.rV)(U.aC),l=!!(n&&(null==i?void 0:i.version)!==n&&L().gt(n,e));return s.current=e,s.latest=n,s.hasUpdate=l,s.checked=!0,s.releaseUrl=r,s}))}var V=s(82299),D=s.n(V),F=function(e){let{user:t,config:s}=e,{formatMessage:i,labels:l,messages:a}=(0,p.Z)(),{latest:c,checked:u,hasUpdate:d,releaseUrl:h}=S(),{pathname:x}=(0,o.useRouter)(),[m,v]=(0,N.useState)(u),_=(null==t?void 0:t.isAdmin)&&!(null==s?void 0:s.updatesDisabled)&&!(null==s?void 0:s.cloudMode)&&!x.includes("/share/")&&!m,j=(0,N.useCallback)(()=>{(0,B.LS)(U.aC,{version:c,time:Date.now()})},[c]);return((0,N.useEffect)(()=>{_&&T()},[_]),_&&d)?(0,w.createPortal)((0,n.jsxs)(r.X2,{className:D().notice,children:[(0,n.jsx)(r.sg,{variant:"two",className:D().message,children:i(a.newVersionAvailable,{version:"v".concat(c)})}),(0,n.jsxs)(r.sg,{className:D().buttons,children:[(0,n.jsx)(r.zx,{variant:"primary",onClick:function(){j(),v(!0),open(h||U.Bv,"_blank")},children:i(l.viewDetails)}),(0,n.jsx)(r.zx,{onClick:function(){j(),v(!0)},children:i(l.dismiss)})]})]}),document.body):null},A=s(24474),G=s(51327),W=s.n(G),q=function(e){let{title:t,children:s}=e,{user:i}=(0,A.Gb)(),a=(0,A.ZR)();return!i||!a||(null==a?void 0:a.uiDisabled)?null:(0,n.jsxs)("div",{className:W().layout,children:[(0,n.jsx)(F,{user:i,config:a}),(0,n.jsx)(l(),{children:(0,n.jsx)("title",{children:t?"".concat(t," | umami"):"umami"})}),(0,n.jsx)("nav",{className:W().nav,children:(0,n.jsx)(P,{})}),(0,n.jsx)("main",{className:W().body,children:(0,n.jsx)(r.W2,{children:s})})]})}},70790:function(e,t,s){"use strict";var n=s(85893),r=s(94184),i=s.n(r),l=s(29120),a=s(44085),c=s(84325),o=s.n(c);t.Z=function(e){let{className:t,error:s,loading:r,children:c}=e,{formatMessage:u,messages:d}=(0,a.Z)();return s?(0,n.jsx)(l.jL,{variant:"error",children:u(d.error)}):r?(0,n.jsx)(l.gb,{icon:"spinner",size:"xl",position:"page"}):(0,n.jsx)("div",{className:i()(o().page,t),children:c})}},56754:function(e,t,s){"use strict";var n=s(85893),r=s(94184),i=s.n(r);s(67294);var l=s(74282),a=s.n(l);t.Z=function(e){let{title:t,children:s,className:r}=e;return(0,n.jsxs)("div",{className:i()(a().header,r),children:[t&&(0,n.jsx)("div",{className:a().title,children:t}),(0,n.jsx)("div",{className:a().actions,children:s})]})}},42781:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var n=s(85893),r=s(16822),i=s(41664),l=s.n(i),a=s(29120),c=s(70790),o=s(56754),u=s(31553),d=s(46465),h=s(54073),x=s(63579),m=s.n(x),p=s(24474);function v(e){let{title:t,description:s,url:r,icon:i}=e;return(0,n.jsxs)("div",{className:m().report,children:[(0,n.jsxs)("div",{className:m().title,children:[(0,n.jsx)(a.JO,{size:"lg",children:i}),(0,n.jsx)(a.xv,{children:t})]}),(0,n.jsx)("div",{className:m().description,children:s}),(0,n.jsx)("div",{className:m().buttons,children:(0,n.jsx)(l(),{href:r,children:(0,n.jsxs)(a.zx,{variant:"primary",children:[(0,n.jsx)(a.JO,{children:(0,n.jsx)(a.PJ.Plus,{})}),(0,n.jsx)(a.xv,{children:"Create"})]})})})]})}var _=function(e){let{showHeader:t=!0}=e,{formatMessage:s,labels:r}=(0,p.y_)(),i=[{title:s(r.insights),description:"Dive deeper into your data by using segments and filters.",url:"/reports/insights",icon:(0,n.jsx)(d.Z,{})},{title:s(r.funnel),description:"Understand the conversion and drop-off rate of users.",url:"/reports/funnel",icon:(0,n.jsx)(u.Z,{})},{title:s(r.retention),description:"Measure you website stickiness by tracking how often users return.",url:"/reports/retention",icon:(0,n.jsx)(h.Z,{})}];return(0,n.jsxs)(c.Z,{children:[t&&(0,n.jsx)(o.Z,{title:s(r.reports)}),(0,n.jsx)("div",{className:m().reports,children:i.map(e=>{let{title:t,description:s,url:r,icon:i}=e;return(0,n.jsx)(v,{icon:i,title:t,description:s,url:r},t)})})]})};function j(){let{formatMessage:e,labels:t}=(0,p.y_)();return(0,n.jsx)(r.Z,{title:e(t.reports),children:(0,n.jsx)(_,{})})}},93766:function(e){e.exports={menu:"MobileMenu_menu__DO6aZ",items:"MobileMenu_items__N_NHj",item:"MobileMenu_item__iN83G",selected:"MobileMenu_selected__Z1kQJ",submenu:"MobileMenu_submenu__eW8zr"}},82299:function(e){e.exports={notice:"UpdateNotice_notice__vSRjT",message:"UpdateNotice_message__ntCR8",buttons:"UpdateNotice_buttons__F6euy"}},35177:function(e){e.exports={menu:"ProfileButton_menu__NQdVL",item:"ProfileButton_item__FBiu1"}},51327:function(e){e.exports={layout:"AppLayout_layout__8Fgjq",nav:"AppLayout_nav__Bmoe1",body:"AppLayout_body__pAojL"}},52963:function(e){e.exports={navbar:"NavBar_navbar__1L4iC",left:"NavBar_left__xjgkC",right:"NavBar_right__G2alC",logo:"NavBar_logo__0W9iy",links:"NavBar_links__Sh5Fe",selected:"NavBar_selected__jgveb",actions:"NavBar_actions__CpMkm",mobile:"NavBar_mobile__NlFK6"}},84325:function(e){e.exports={page:"Page_page__xxbhi"}},74282:function(e){e.exports={header:"PageHeader_header__8CvHt",title:"PageHeader_title__m8eFY",actions:"PageHeader_actions__6l2hP"}},63579:function(e){e.exports={reports:"ReportTemplates_reports__Do6Nw",report:"ReportTemplates_report__Qgg8N",title:"ReportTemplates_title___ltZk",description:"ReportTemplates_description__Sp9Lo",buttons:"ReportTemplates_buttons__7T2ZP"}}},function(e){e.O(0,[678,885,668,762,249,67,774,888,179],function(){return e(e.s=13902)}),_N_E=e.O()}]);