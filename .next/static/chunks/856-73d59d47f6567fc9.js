(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[856],{31553:function(e,t,n){"use strict";var r,a,l,i,s=n(67294);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return s.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:512,height:512,viewBox:"0 0 32 32"},e),r||(r=s.createElement("path",{d:"M29 11H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h26a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1zM4 9h24V5H4z"})),a||(a=s.createElement("path",{d:"M25 17H7a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1zM8 15h16v-4H8z"})),l||(l=s.createElement("path",{d:"M22 23H10a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1zm-11-2h10v-4H11z"})),i||(i=s.createElement("path",{d:"M19 29h-6a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1zm-5-2h4v-4h-4z"})))}},66531:function(e,t,n){"use strict";var r=n(85893),a=n(67294),l=n(29120),i=n(81109),s=n.n(i);t.Z=function(e){let{children:t}=e,[n,i]=(0,a.useState)({x:-1e3,y:-1e3});return(0,a.useEffect)(()=>{let e=e=>{i({x:e.clientX,y:e.clientY})};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}},[]),(0,r.jsx)(l.u,{className:s().tooltip,style:{left:n.x,top:n.y},children:t})}},92754:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(85893),a=n(67294),l=n(29120),i=n(94184),s=n.n(i),o=n(9085),c=n(66531),u=n(16765),d=n(91998),h=n(43168),m=n(77668),x=n.n(m),v=function(e){var t;let{chart:n}=e,{locale:i}=(0,d.Z)(),o=(0,h.Z)(),c=e=>{let t=n.getDatasetMeta(e);t.hidden=null===t.hidden?!n.data.datasets[e].hidden:null,n.update(),o()};return((0,a.useEffect)(()=>{o()},[i,o]),null==n?void 0:null===(t=n.legend)||void 0===t?void 0:t.legendItems.find(e=>{let{text:t}=e;return t}))?(0,r.jsx)("div",{className:x().legend,children:n.legend.legendItems.map(e=>{let{text:t,fillStyle:n,datasetIndex:a,hidden:o}=e,d=(0,u.Vi)(n);return(0,r.jsx)("div",{className:s()(x().label,{[x().hidden]:o}),onClick:()=>c(a),children:(0,r.jsx)(l.KT,{color:d.alpha(d.alpha()+.2).toHex(),children:(0,r.jsx)("span",{className:i,children:t})})},t)})}):null},f=n(53353),p=n(73865),_=n(7246),j=n(1535),b=n.n(j),g=function(e){let{datasets:t,unit:n,animationDuration:i=p._F,stacked:u=!1,loading:h=!1,renderXLabel:m,renderYLabel:x,XAxisType:j="time",YAxisType:g="linear",renderTooltipPopup:y,onCreate:w,onUpdate:Z,className:k}=e,N=(0,a.useRef)(),C=(0,a.useRef)(null),[P,F]=(0,a.useState)(null),{locale:T}=(0,d.Z)(),{theme:D,colors:M}=(0,f.Z)(),E=(0,a.useCallback)(()=>({responsive:!0,maintainAspectRatio:!1,animation:{duration:i,resize:{duration:0},active:{duration:0}},plugins:{legend:{display:!1},tooltip:{enabled:!1,external:y?y.bind(null,F):void 0}},scales:{x:{type:j,stacked:!0,time:{unit:n},grid:{display:!1},border:{color:M.chart.line},ticks:{color:M.chart.text,autoSkip:!1,maxRotation:0,callback:m}},y:{type:g,min:0,beginAtZero:!0,stacked:u,grid:{color:M.chart.line},border:{color:M.chart.line},ticks:{color:M.text,callback:x||_.F$}}}}),[i,y,m,j,g,u,M,n,T]),z=()=>{o.ZP.defaults.font.family="Inter";let e=E();C.current=new o.ZP(N.current,{type:"bar",data:{datasets:t},options:e}),null==w||w(C.current)},q=()=>{F(null),t.forEach((e,t)=>{C.current.data.datasets[t].data=e.data,C.current.data.datasets[t].label=e.label}),C.current.options=E(),null==Z||Z(C.current),C.current.update()};return(0,a.useEffect)(()=>{t&&(C.current?q():z())},[t,n,D,i,T]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:s()(b().chart,k),children:[h&&(0,r.jsx)(l.gb,{position:"page",icon:"dots"}),(0,r.jsx)("canvas",{ref:N})]}),(0,r.jsx)(v,{chart:C.current}),P&&(0,r.jsx)(c.Z,{children:(0,r.jsx)("div",{className:b().tooltip,children:P})})]})}},55046:function(e,t,n){"use strict";var r=n(85893),a=n(67294),l=n(29645),i=n(49821),s=n(69926),o=n(94184),c=n.n(o),u=n(98776),d=n(29163),h=n(44085),m=n(18709),x=n.n(m);let v=e=>{var t;let{label:n,value:a=0,percent:l,animate:i,format:o,onClick:c,showPercentage:u=!0}=e,d=(0,s.q_)({width:l,y:a,from:{width:0,y:0},config:i?s.vc.default:{duration:0}});return(0,r.jsxs)("div",{className:x().row,children:[(0,r.jsx)("div",{className:x().label,children:n}),(0,r.jsx)("div",{className:x().value,onClick:c,children:(0,r.jsx)(s.q.div,{className:x().value,children:null===(t=d.y)||void 0===t?void 0:t.to(o)})}),u&&(0,r.jsxs)("div",{className:x().percent,children:[(0,r.jsx)(s.q.div,{className:x().bar,style:{width:d.width.to(e=>"".concat(e,"%"))}}),(0,r.jsx)(s.q.span,{className:x().percentValue,children:d.width.to(e=>{var t;return"".concat(null==e?void 0:null===(t=e.toFixed)||void 0===t?void 0:t.call(e,0),"%")})})]})]})};t.Z=function(e){let{data:t=[],title:n,metric:s,className:o,renderLabel:m,animate:f=!0,virtualize:p=!1,showPercentage:_=!0}=e,{formatMessage:j,labels:b}=(0,h.Z)(),[g,y]=(0,l.Z)(),[w,Z]=(0,a.useState)(!0),k=w?d.mu:d.uf,N=()=>Z(e=>!e),C=e=>{let{x:t,y:n,z:a}=e;return(0,r.jsx)(v,{label:m?m(e):null!=t?t:j(b.unknown),value:n,percent:a,animate:f&&!p,format:k,onClick:N,showPercentage:_},t)};return(0,r.jsxs)("div",{className:c()(x().table,o),children:[(0,r.jsxs)("div",{className:x().header,children:[(0,r.jsx)("div",{className:x().title,children:n}),(0,r.jsx)("div",{className:x().metric,onClick:N,children:s})]}),(0,r.jsxs)("div",{ref:g,className:x().body,children:[(null==t?void 0:t.length)===0&&(0,r.jsx)(u.Z,{}),p&&t.length>0?(0,r.jsx)(i.t7,{height:y.height,itemCount:t.length,itemSize:30,children:e=>{let{index:n,style:a}=e;return(0,r.jsx)("div",{style:a,children:C(t[n])})}}):t.map(e=>C(e))]})]})}},46856:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(85893),a=n(67294),l=n(29120),i=n(44085),s=n(53353),o=n(92754),c=n(29163),u=n(84420),d=n.n(u),h=n(89),m=function(e){let{className:t,loading:n}=e,{report:u}=(0,a.useContext)(h.GA),{formatMessage:m,labels:x}=(0,i.Z)(),{colors:v}=(0,s.Z)(),{parameters:f,data:p}=u||{},_=(0,a.useCallback)((e,t)=>f.urls[t],[f]),j=(0,a.useCallback)((e,t)=>{var n;let{opacity:a,labelColors:i,dataPoints:s}=t.tooltip;if(!(null==s?void 0:s.length)||!a){e(null);return}e((0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,c.mu)(s[0].raw.y)," ",m(x.visitors)]}),(0,r.jsx)("div",{children:(0,r.jsxs)(l.KT,{color:null==i?void 0:null===(n=i[0])||void 0===n?void 0:n.backgroundColor,children:[(0,c.mu)(s[0].raw.z),"% ",m(x.dropoff)]})})]}))},[]),b=(0,a.useMemo)(()=>[{label:m(x.uniqueVisitors),data:p,borderWidth:1,...v.chart.visitors}],[p,v,m,x]);return n?(0,r.jsx)(l.gb,{icon:"dots",className:d().loading}):(0,r.jsx)(o.Z,{className:t,datasets:b,unit:"day",loading:n,renderXLabel:_,renderTooltipPopup:j,XAxisType:"category"})},x=n(55046),v=n(24474),f=function(){let{report:e}=(0,a.useContext)(h.GA),{formatMessage:t,labels:n}=(0,v.y_)();return(0,r.jsx)(x.Z,{data:null==e?void 0:e.data,title:t(n.url),metric:t(n.visitors),showPercentage:!0})},p=n(43756),_=n(42538),j=n.n(_),b=function(e){let{defaultValue:t="",onAdd:n}=e,[i,s]=(0,a.useState)(t),{formatMessage:o,labels:c}=(0,v.y_)(),u=()=>{n(i),s("")};return(0,r.jsx)(l.l0,{children:(0,r.jsx)(l.p7,{label:o(c.url),children:(0,r.jsxs)(l.DL,{gap:10,children:[(0,r.jsx)(l.nv,{className:j().input,value:i,onChange:e=>{s(e.target.value)},autoFocus:!0,autoComplete:"off",onKeyDown:e=>{"Enter"===e.key&&(e.stopPropagation(),u())}}),(0,r.jsx)(l.zx,{variant:"primary",onClick:u,children:o(c.add)})]})})})},g=n(5390),y=n(54092),w=n(61371),Z=function(){let{report:e,runReport:t,updateReport:n,isRunning:i}=(0,a.useContext)(h.GA),{formatMessage:s,labels:o}=(0,v.y_)(),c=(0,a.useRef)(null),{parameters:u}=e||{},{websiteId:d,dateRange:m,urls:x}=u||{},f=!d||!m||(null==x?void 0:x.length)<2,_=e=>{n({parameters:{urls:u.urls.concat(e)}})};return(0,r.jsxs)(l.l0,{ref:c,values:u,onSubmit:(e,n)=>{n.stopPropagation(),n.preventDefault(),f||t(e)},preventSubmit:!0,children:[(0,r.jsx)(g.Z,{}),(0,r.jsx)(l.p7,{label:s(o.window),children:(0,r.jsx)(l.Tr,{name:"window",rules:{required:s(o.required),pattern:/[0-9]+/},children:(0,r.jsx)(l.nv,{autoComplete:"off"})})}),(0,r.jsx)(l.p7,{label:s(o.urls),action:(0,r.jsx)(()=>(0,r.jsxs)(l.qh,{children:[(0,r.jsx)(l.JO,{children:(0,r.jsx)(p.Z.Plus,{})}),(0,r.jsx)(l.GI,{position:"bottom",alignment:"start",children:(e,t)=>(0,r.jsx)(w.Z,{element:t,onClose:e,children:(0,r.jsx)(b,{onAdd:_})})})]}),{}),children:(0,r.jsx)(y.Z,{items:x,onRemove:(e,t)=>{t.stopPropagation();let r=[...u.urls];r.splice(e,1),n({parameters:{urls:r}})}})}),(0,r.jsx)(l.Au,{children:(0,r.jsx)(l.Mm,{variant:"primary",disabled:f,loading:i,children:s(o.runQuery)})})]})},k=n(77406),N=n(8953),C=n(60761),P=n(31553),F=n(73865);let T={type:F.H$.funnel,parameters:{window:60,urls:[]}};function D(e){let{reportId:t}=e;return(0,r.jsxs)(h.ZP,{reportId:t,defaultParameters:T,children:[(0,r.jsx)(k.Z,{icon:(0,r.jsx)(P.Z,{})}),(0,r.jsx)(N.Z,{children:(0,r.jsx)(Z,{})}),(0,r.jsxs)(C.Z,{children:[(0,r.jsx)(m,{}),(0,r.jsx)(f,{})]})]})}},7246:function(e,t,n){"use strict";n.d(t,{F$:function(){return s},oq:function(){return o},zK:function(){return c}});var r=n(85893),a=n(29120),l=n(91534),i=n(29163);function s(e){return+e>1e3?(0,i.mu)(e):e}function o(e,t){return(n,r,a)=>{let i=new Date(a[r].value);switch(e){case"minute":return(0,l.p6)(i,"h:mm",t);case"hour":return(0,l.p6)(i,"p",t);case"day":return(0,l.p6)(i,"MMM d",t);case"month":return(0,l.p6)(i,"MMM",t);case"year":return(0,l.p6)(i,"YYY",t);default:return n}}}function c(e,t){return(n,s)=>{var o;let{opacity:c,labelColors:u,dataPoints:d}=s.tooltip;if(!(null==d?void 0:d.length)||!c){n(null);return}n((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:(0,l.p6)(new Date(d[0].raw.x),{millisecond:"T",second:"pp",minute:"p",hour:"h:mm aaa - PP",day:"PPPP",week:"PPPP",month:"LLLL yyyy",quarter:"qqq",year:"yyyy"}[e],t)}),(0,r.jsx)("div",{children:(0,r.jsxs)(a.KT,{color:null==u?void 0:null===(o=u[0])||void 0===o?void 0:o.backgroundColor,children:[(0,i.mu)(d[0].raw.y)," ",d[0].dataset.label]})})]}))}}},29163:function(e,t,n){"use strict";function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["m","s"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",{days:r,hours:a,minutes:l,seconds:i,ms:s}=function(e){let t=~~(e/86400),n=~~(e/3600)-24*t,r=~~(e/60)-1440*t-60*n;return{days:t,hours:n,minutes:r,seconds:~~e-86400*t-3600*n-60*r,ms:(e-~~e)*1e3}}(e),o="";return(r>0&&-1!==t.indexOf("d")&&(o+="".concat(r,"d").concat(n)),a>0&&-1!==t.indexOf("h")&&(o+="".concat(a,"h").concat(n)),l>0&&-1!==t.indexOf("m")&&(o+="".concat(l,"m").concat(n)),i>0&&-1!==t.indexOf("s")&&(o+="".concat(i,"s").concat(n)),s>0&&-1!==t.indexOf("ms")&&(o+="".concat(s,"ms")),o)?o:"0".concat(t[t.length-1])}function a(e){return Number(e).toFixed(0)}function l(e){let t=Number(e);return t>=1e6?"".concat((t/1e6).toFixed(1),"m"):t>=1e5?"".concat((t/1e3).toFixed(0),"k"):t>=1e4?"".concat((t/1e3).toFixed(1),"k"):t>=1e3?"".concat((t/1e3).toFixed(2),"k"):a(t)}function i(e){if(!e)return"#ffffff";let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);let n="#";for(let e=0;e<3;e++)n+=("00"+(t>>8*e&255).toString(16)).slice(-2);return n}n.d(t,{mu:function(){return l},u_:function(){return i},uf:function(){return a},vM:function(){return r}})},81109:function(e){e.exports={tooltip:"HoverTooltip_tooltip__csrWi"}},1535:function(e){e.exports={chart:"BarChart_chart__EO1Ol",tooltip:"BarChart_tooltip__FWKKp",value:"BarChart_value__D6s2F"}},18709:function(e){e.exports={table:"DataTable_table__N_EPZ",body:"DataTable_body__DhwJ8",header:"DataTable_header__iwjK3",title:"DataTable_title__rsSZa",metric:"DataTable_metric__psVMR",row:"DataTable_row___AB3X",label:"DataTable_label__8iQPt",value:"DataTable_value__1fAS1",percent:"DataTable_percent___cir2",bar:"DataTable_bar__2k9Rb"}},77668:function(e){e.exports={legend:"Legend_legend__h9a1F",label:"Legend_label__HSSWz",hidden:"Legend_hidden__EX6iO"}},84420:function(e){e.exports={loading:"FunnelChart_loading__Iwi4U"}},42538:function(e){e.exports={form:"UrlAddForm_form__qeMFt",input:"UrlAddForm_input__TruPB"}}}]);