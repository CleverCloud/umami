(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[451],{42699:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var a=t(19013),s=t(13882);function r(e,n){(0,s.Z)(2,arguments);var t=(0,a.Z)(e),r=(0,a.Z)(n);return t.getTime()>r.getTime()}},3151:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var a=t(69119),s=t(13882);function r(e,n){(0,s.Z)(2,arguments);var t=(0,a.Z)(e),r=(0,a.Z)(n);return t.getTime()===r.getTime()}},98776:function(e,n,t){"use strict";var a=t(85893),s=t(94184),r=t.n(s),i=t(27110),l=t.n(i),c=t(44085);n.Z=function(e){let{message:n,className:t}=e,{formatMessage:s,messages:i}=(0,c.Z)();return(0,a.jsx)("div",{className:r()(l().container,t),children:n||s(i.noDataAvailable)})}},4647:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var a=t(85893),s=t(67294),r=t(29120),i=t(10876),l=t(3151),c=t(42699),o=t(313),d=t(91998),u=t(95323),m=t(73865),x=t(44085),h=t(39030),v=t.n(h),f=function(e){let{startDate:n,endDate:t,minDate:i,maxDate:h,onChange:f,onClose:j}=e,[_,p]=(0,s.useState)((0,l.Z)(n,t)?m.Lx:m.B2),[g,Z]=(0,s.useState)(n),[y,D]=(0,s.useState)(n),[b,C]=(0,s.useState)(t),{locale:k}=(0,d.Z)(),{formatMessage:L,labels:N}=(0,x.Z)(),w=_===m.Lx?(0,c.Z)(i,g)&&(0,o.Z)(h,g):(0,c.Z)(y,b);return(0,a.jsxs)("div",{className:v().container,children:[(0,a.jsx)("div",{className:v().filter,children:(0,a.jsxs)(r.hE,{selectedKey:_,onSelect:p,children:[(0,a.jsx)(r.zx,{children:L(N.singleDay)},m.Lx),(0,a.jsx)(r.zx,{children:L(N.dateRange)},m.B2)]})}),(0,a.jsxs)("div",{className:v().calendars,children:[_===m.Lx&&(0,a.jsx)(r.f,{date:g,minDate:i,maxDate:h,onChange:Z}),_===m.B2&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.f,{date:y,minDate:i,maxDate:b,locale:(0,u.t4)(k),onChange:D}),(0,a.jsx)(r.f,{date:b,minDate:y,maxDate:h,locale:(0,u.t4)(k),onChange:C})]})]}),(0,a.jsxs)("div",{className:v().buttons,children:[(0,a.jsx)(r.zx,{variant:"primary",onClick:()=>{_===m.Lx?f("range:".concat(g.getTime(),":").concat(g.getTime())):f("range:".concat(y.getTime(),":").concat(b.getTime()))},disabled:w,children:L(N.save)}),(0,a.jsx)(r.zx,{onClick:j,children:L(N.cancel)})]})]})},j=t(91534),_=t(43756);let p=e=>{let{startDate:n,endDate:t,selectedUnit:s,onClick:i}=e,{locale:c}=(0,d.Z)(),o=1==+(null==s?void 0:s.num)&&(null==s?void 0:s.unit)==="month";return(0,a.jsxs)(r.DL,{gap:10,alignItems:"center",wrap:"nowrap",children:[(0,a.jsx)(r.JO,{className:"mr-2",onClick:function(e){e.stopPropagation(),i()},children:(0,a.jsx)(_.Z.Calendar,{})}),(0,a.jsx)(r.xv,{children:o?(0,a.jsx)(a.Fragment,{children:(0,j.p6)(n,"MMMM yyyy",c)}):(0,a.jsxs)(a.Fragment,{children:[(0,j.p6)(n,"d LLL y",c),!(0,l.Z)(n,t)&&" â€” ".concat((0,j.p6)(t,"d LLL y",c))]})})]})};var g=function(e){let{value:n,startDate:t,endDate:l,className:c,onChange:o,selectedUnit:d,showAllTime:u=!1,alignment:m="end"}=e,{formatMessage:h,labels:v}=(0,x.Z)(),[j,_]=(0,s.useState)(!1),g=[{label:h(v.today),value:"1day"},{label:h(v.lastHours,{x:24}),value:"24hour"},{label:h(v.yesterday),value:"-1day"},{label:h(v.thisWeek),value:"1week",divider:!0},{label:h(v.lastDays,{x:7}),value:"7day"},{label:h(v.thisMonth),value:"1month",divider:!0},{label:h(v.lastDays,{x:30}),value:"30day"},{label:h(v.lastDays,{x:90}),value:"90day"},{label:h(v.thisYear),value:"1year"},u&&{label:h(v.allTime),value:"all",divider:!0},{label:h(v.customRange),value:"custom",divider:!0}].filter(e=>e),Z=e=>{if("custom"===e){_(!0);return}o(e)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Lt,{className:c,items:g,renderValue:e=>e.startsWith("range")?(0,a.jsx)(p,{startDate:t,endDate:l,selectedUnit:d,onClick:()=>Z("custom")}):g.find(n=>n.value===e).label,value:n,alignment:m,placeholder:h(v.selectDate),onChange:Z,children:e=>{let{label:n,value:t,divider:s}=e;return(0,a.jsx)(r.ck,{divider:s,children:n},t)}}),j&&(0,a.jsx)(r.u_,{onClose:()=>_(!1),children:(0,a.jsx)(f,{startDate:t,endDate:l,minDate:new Date(2e3,0,1),maxDate:(0,i.Z)(new Date),onChange:e=>{_(!1),o(e)},onClose:()=>_(!1)})})]})}},5390:function(e,n,t){"use strict";var a=t(85893),s=t(29120),r=t(4647),i=t(81031),l=t(91534),c=t(67294),o=t(89),d=t(24474);n.Z=function(e){let{showWebsiteSelect:n=!0,allowWebsiteSelect:t=!0,showDateSelect:u=!0,allowDateSelect:m=!0}=e,{report:x,updateReport:h}=(0,c.useContext)(o.GA),{formatMessage:v,labels:f}=(0,d.y_)(),{parameters:j}=x||{},{websiteId:_,dateRange:p}=j||{},{value:g,startDate:Z,endDate:y}=p||{};return(0,a.jsxs)(a.Fragment,{children:[n&&(0,a.jsx)(s.p7,{label:v(f.website),children:t&&(0,a.jsx)(i.Z,{websiteId:_,onSelect:e=>{h({websiteId:e,parameters:{websiteId:e}})}})}),u&&(0,a.jsx)(s.p7,{label:v(f.dateRange),children:m&&(0,a.jsx)(r.Z,{value:g,startDate:Z,endDate:y,onChange:e=>{h({parameters:{dateRange:{...(0,l.r0)(e)}}})}})})]})}},54092:function(e,n,t){"use strict";var a=t(85893),s=t(29120),r=t(43756),i=t(98776),l=t(24474),c=t(13490),o=t.n(c);n.Z=function(e){let{items:n=[],children:t,onRemove:c}=e,{formatMessage:d,labels:u}=(0,l.y_)();return(0,a.jsxs)("div",{className:o().list,children:[!n.length&&(0,a.jsx)(i.Z,{message:d(u.none)}),n.map((e,n)=>(0,a.jsxs)("div",{className:o().item,children:["function"==typeof t?t(e):e,(0,a.jsx)(s.zG,{className:o().icon,label:d(u.remove),position:"right",children:(0,a.jsx)(s.JO,{onClick:c.bind(null,n),children:(0,a.jsx)(r.Z.Close,{})})})]},n))]})}},61371:function(e,n,t){"use strict";var a=t(85893),s=t(94184),r=t.n(s),i=t(27376),l=t.n(i);n.Z=function(e){let{className:n,style:t,children:s}=e;return(0,a.jsx)("div",{className:r()(l().form,n),style:t,onClick:e=>e.stopPropagation(),children:s})}},89:function(e,n,t){"use strict";t.d(n,{GA:function(){return o}});var a=t(85893),s=t(67294),r=t(70790),i=t(73057),l=t.n(i),c=t(24474);let o=(0,s.createContext)(null);n.ZP=function(e){let{reportId:n,defaultParameters:t,children:s,...i}=e,d=(0,c.nl)(n,t);return(0,a.jsx)(o.Provider,{value:{...d},children:(0,a.jsx)(r.Z,{...i,className:l().container,children:s})})}},60761:function(e,n,t){"use strict";var a=t(85893),s=t(73057),r=t.n(s);n.Z=function(e){let{children:n}=e;return(0,a.jsx)("div",{className:r().body,children:n})}},77406:function(e,n,t){"use strict";var a=t(85893),s=t(67294),r=t(11163),i=t(29120),l=t(56754),c=t(24474),o=t(89),d=t(13511),u=t.n(d),m=t(73057),x=t.n(m);n.Z=function(e){let{icon:n}=e,{report:t,updateReport:d}=(0,s.useContext)(o.GA),{formatMessage:m,labels:h,messages:v}=(0,c.y_)(),{showToast:f}=(0,i.e1)(),{post:j,useMutation:_}=(0,c.h_)(),p=(0,r.useRouter)(),{mutate:g,isLoading:Z}=_(e=>j("/reports",e)),{mutate:y,isLoading:D}=_(e=>j("/reports/".concat(e.id),e)),{name:b,description:C,parameters:k}=t||{},{websiteId:L,dateRange:N}=k||{},w=async()=>{t.id?y(t,{onSuccess:async()=>{f({message:m(v.saved),variant:"success"})}}):g(t,{onSuccess:async e=>{let{id:n}=e;f({message:m(v.saved),variant:"success"}),p.push("/reports/".concat(n),null,{shallow:!0})}})},P=e=>{d({name:e||"Untitled"})};return(0,a.jsxs)("div",{className:x().header,children:[(0,a.jsx)(l.Z,{title:(0,a.jsx)(()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.JO,{size:"lg",children:n}),(0,a.jsx)(i.Df,{name:"name",value:b,placeholder:m(h.untitled),onCommit:P},b)]}),{}),children:(0,a.jsx)(i.fl,{variant:"primary",isLoading:Z||D,disabled:!L||!(null==N?void 0:N.value)||!b,onClick:w,children:m(h.save)})}),(0,a.jsx)("div",{className:u().description,children:(0,a.jsx)(i.Df,{name:"description",value:C,placeholder:"+ ".concat(m(h.addDescription)),onCommit:e=>{d({description:e})}},C)})]})}},8953:function(e,n,t){"use strict";var a=t(85893),s=t(73057),r=t.n(s);n.Z=function(e){let{children:n}=e;return(0,a.jsx)("div",{className:r().menu,children:n})}},27110:function(e){e.exports={container:"Empty_container__ZKJsF"}},39030:function(e){e.exports={container:"DatePickerForm_container__MygMe",calendars:"DatePickerForm_calendars__wK_V1",filter:"DatePickerForm_filter__iM5CX",buttons:"DatePickerForm_buttons__j7UzK"}},13490:function(e){e.exports={list:"ParameterList_list__aRapC",item:"ParameterList_item__g5Hhl",icon:"ParameterList_icon__ujqwE"}},27376:function(e){e.exports={form:"PopupForm_form__aI3Zu"}},13511:function(e){e.exports={description:"ReportHeader_description__kwiO0"}},73057:function(e){e.exports={container:"reports_container__vtdom",header:"reports_header__2wPzw",menu:"reports_menu__bzvzT",body:"reports_body__qSCo8"}}}]);